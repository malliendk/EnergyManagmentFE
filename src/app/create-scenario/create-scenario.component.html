<div class="container mt-5">
  <div class="card">
    <div class="card-header bg-primary text-white">
      <h3>Scenario aanmaken</h3>
    </div>
    <form (ngSubmit)="create(this.scenario)">
      <div class="card-body">
        <div class="row mb-3">
          <label for="name" class="col-md-3 text-muted">Naam:</label>
          <div class="col-md-9">
            <span *ngIf="saved"> {{ scenario.name }}</span>
            <input *ngIf="!saved" type="text" class="form-control" name="name" id="name" [(ngModel)]="scenario.name">
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-3 text-muted">Beschrijving:</div>
          <div class="col-md-9">
            <span *ngIf="saved"> {{ scenario.description }}</span>
            <input *ngIf="!saved" type="text" class="form-control" name="description"
                   [(ngModel)]="scenario.description">
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-3 text-muted">Story</div>
          <div class="col-md-9">
            <select *ngIf="!saved" class="form-select text-muted rounded-lg" [(ngModel)]="scenario.storyName"
                    id="storyNameSelector" name="storyName">
              <option *ngFor="let storyName of storyNames" [value]="storyName">{{storyName}}</option>
            </select>
            <span *ngIf="saved">{{scenario.storyName}}</span>
          </div>
        </div>
        <br>
        <button *ngIf="!saved" type="submit" class="btn btn-primary" (click)="create(this.scenario)"
                (keydown.enter)="create(this.scenario)" id="createScenarioButton">
          scenario aanmaken
        </button>
      </div>
    </form>
    <div *ngIf="saved" class="container mt-3 rounded p-3">
      <h5 class="text-muted">Voeg requirements toe</h5>
      <br>
      <br>
      <div class="container-fluid">
        <div class="row">
          <div class="col-5 pr-0 d-flex align-items-center justify-content-center">
            <div>
              <p class="text-muted">Requirements</p>
              <select [(ngModel)]="selectedStoryRequirements"
                      class="form-select text-muted custom-select-height rounded-lg select-fixed-width" multiple
                      aria-label="multiple select requirements">
                <option *ngFor="let requirementName of storyRequirementNames">{{requirementName}}
                </option>
              </select>
            </div>
          </div>

          <div class="col-2 d-flex flex-column justify-content-center align-items-center">
            <div class="d-flex flex-column align-items-center w-100">
              <button class="btn btn-outline-secondary mb-3">
                <i class="bi bi-arrow-right" (click)="moveToScenarios()">>></i>
              </button>
              <button class="btn btn-outline-secondary">
                <i class="bi bi-arrow-left" (click)="removeFromScenario()"><<</i>
              </button>
            </div>
          </div>

          <div class="col-5 pl-0 d-flex align-items-center justify-content-center">
            <div>
              <p class="text-muted">Scenarios</p>
              <select [(ngModel)]="selectedScenarioRequirements"
                      class="form-select text-muted custom-select-height rounded-lg select-fixed-width" multiple
                      aria-label="multiple select scenarios">
                <option *ngFor="let requirementName of scenarioRequirementNames">{{requirementName}}
                </option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>
    <button *ngIf="saved" type="submit" class="btn btn-outline-primary"
            (click)="update(this.scenario, this.scenario.id)">Opslaan
    </button>
  </div>
</div>

